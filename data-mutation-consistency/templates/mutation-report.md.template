# Mutation Consistency Report

Generated: {{timestamp}}
Project: {{project_name}}
Analyzed: {{mutation_count}} mutations in {{file_count}} files

## Summary

| Metric | Value |
|--------|-------|
| Overall Score | {{overall_score}}/10 {{status_emoji}} |
| Mutations Analyzed | {{mutation_count}} |
| Passing (≥9.0) | {{passing_count}} |
| Warnings (<9.0) | {{warning_count}} |
| Critical (<7.0) | {{critical_count}} |

## Score Distribution

```
{{score_distribution}}
```

## Sub-Skills Loaded

{{#each sub_skills}}
- **{{name}}**: {{mutations_found}} mutations, avg score {{average_score}}/10
{{/each}}

## Issues by Priority

### P0 - Critical (Score < 7.0)

{{#each critical_issues}}
- **{{file}}:{{line}}** - {{message}}
{{/each}}

### P1 - Warning (Score < 9.0)

{{#each warning_issues}}
- **{{file}}:{{line}}** - {{message}}
{{/each}}

### P2 - Improvement Opportunities

{{#each info_issues}}
- {{file}}:{{line}} - {{message}}
{{/each}}

## Detailed Analysis

{{#each categories}}
### {{category_name}}

| File | Line | Entity | Score | Status | Missing |
|------|------|--------|-------|--------|---------|
{{#each mutations}}
| {{file_name}} | {{line}} | {{entity}} | {{score}}/10 | {{status_emoji}} | {{missing}} |
{{/each}}
{{/each}}

## Cross-Layer Validation

### Cache Tag Alignment

| Backend Tag | Frontend Query Key | Aligned |
|-------------|-------------------|---------|
{{#each cache_tags}}
| {{tag}} | {{query_key}} | {{aligned_emoji}} |
{{/each}}

{{#if misaligned_tags}}
### ⚠️ Misaligned Tags

The following cache tags don't have matching frontend query keys:
{{#each misaligned_tags}}
- `{{this}}`
{{/each}}

**Recommendation:** Ensure backend cache tags align with frontend query key factories.
{{/if}}

## Recommendations

### Quick Wins (< 5 min each)

{{#each quick_wins}}
- {{this}}
{{/each}}

### Refactoring Required

{{#each refactoring}}
- **{{element}}**: {{fix_suggestion}}
{{/each}}

## Files Analyzed

{{#each files}}
- `{{this}}`
{{/each}}

---

## Next Steps

1. Run `@fix-mutations P0` to generate fix plan for critical issues
2. Run `@fix-mutations P1` to include warnings
3. Apply fixes and run `@analyze-mutations` to validate

---

*Generated by Data Mutation Consistency Skill*
